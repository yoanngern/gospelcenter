function initInputFile(e){$(e).hide();var t=$(e).attr("id"),n='<div id="addImage" data-input="'+t+'"><div class="iconImg"></div><div class="txt">Drop the image here.</div></div>';$(e).after(n)}function handleFiles(e){for(var t=0;t<e.length;t++){var n=e[t],r=/image.*/;if(!n.type.match(r))continue;var i=document.createElement("img");i.classList.add("obj");i.file=n;var s=new FileReader;s.onload=function(e){return function(t){e.src=t.target.result}}(i);console.log(i);s.readAsDataURL(n)}}function showPreview(e){var t=$(e).attr("id");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=e.target.result;$("#addImage[data-input="+t+"]").after('<img class="newImg" src="'+n+'" alt="preview"/>')};n.readAsDataURL(e.files[0])}$("#addImage[data-input="+t+"]").hide()}$(document).ready(function(){$("input[type=file]").each(function(){initInputFile(this)});$("form").on("click","#addImage",function(){var e=$(this).data("input");$("input[id="+e+"]").click()});$("input[type=file]").change(function(){showPreview(this)});$("form").bind("#addImage","paste",function(e){var t=$(this).data("input");setTimeout(function(){var n=e.target.value;$("input[id="+t+"]").val(n)},0)});$("form").on("dragenter","#addImage, img",function(){if($(".newImg")!=null){var e=$("img.newImg").width(),t=$("img.newImg").height();$("#addImage").width(e);$("#addImage").height(t);$("form img").fadeOut();$("#addImage").show()}$(this).addClass("hover");return!1});$("form").on("dragover","#addImage",function(e){e.preventDefault();e.stopPropagation();$("#addImage").show();$("form img").remove();$(this).addClass("hover");return!1});$("form").on("dragleave","#addImage",function(e){e.preventDefault();e.stopPropagation();$(this).removeClass("hover");return!1});$("form").on("drop","#addImage",function(e){var t=$(this).data("input");e.stopPropagation();e.preventDefault();var n=e.originalEvent.dataTransfer,r=n.files;$("input[id="+t+"]").prop("files",e.originalEvent.dataTransfer.files)})});