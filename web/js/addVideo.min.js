function videoUrlUpdate(t){var e=$("#videoContainer"),o=$(t).val();if(o!=$(e).attr("data-url")){var i=$("<a>").prop("href",o).prop("hostname"),a=!1,r=!1,d=!1,n=!1;if(i.match("youtube.com")&&(a=!0,$.type(getYouTubbeId(o))&&(n=getYouTubbeId(o))),i.match("vimeo.com")&&(r=!0,$.type(getVimeoId(o))&&(n=getVimeoId(o))),i.match("dailymotion.com")&&(d=!0,$.type(getDailymotionId(o))&&(n=getDailymotionId(o))),!n)return errorMessage("This url is incorrect"),void $(e).html("").attr("data-url","");var u={youtube:a,vimeo:r,dailymotion:d,id:n},m=$("#videoIframe").html(),c=Handlebars.compile(m),v=c(u);$(e).html(v).attr("data-url",o)}}function getYouTubbeId(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(e);return o&&11==o[7].length?o[7]:!1}function getVimeoId(t){var e=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(e);return o?o[3]:!1}function getDailymotionId(t){var e=/^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,o=t.match(e);return o?void 0!==o[4]?o[4]:o[2]:!1}$(document).ready(function(){$("input.video_url").change(function(){videoUrlUpdate(this)}).on("input",function(){videoUrlUpdate(this)})});