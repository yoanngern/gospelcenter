function initInputFile(a){$(a).hide();var e=$(a).attr("id"),t='<div id="addImage" data-input="'+e+'"><div class="iconImg"></div><div class="txt">Drop the image here.</div></div>';$(a).after(t)}function handleFiles(a){for(var e=0;e<a.length;e++){var t=a[e],i=/image.*/;if(t.type.match(i)){var n=document.createElement("img");n.classList.add("obj"),n.file=t;var r=new FileReader;r.onload=function(a){return function(e){a.src=e.target.result}}(n),console.log(n),r.readAsDataURL(t)}}}function showPreview(a){var e=$(a).attr("id");if(a.files&&a.files[0]){var t=new FileReader;t.onload=function(a){var t=a.target.result;$("#addImage[data-input="+e+"]").after('<img class="newImg" src="'+t+'" alt="preview"/>')},t.readAsDataURL(a.files[0])}$("#addImage[data-input="+e+"]").hide()}$(document).ready(function(){$("input[type=file]").each(function(){initInputFile(this)}),$("form").on("click","#addImage",function(){var a=$(this).data("input");$("input[id="+a+"]").click()}),$("input[type=file]").change(function(){showPreview(this)}),$("form").bind("#addImage","paste",function(a){var e=$(this).data("input");setTimeout(function(){var t=a.target.value;$("input[id="+e+"]").val(t)},0)}),$("form").on("dragenter","#addImage, img",function(){if(null!=$(".newImg")){var a=$("img.newImg").width(),e=$("img.newImg").height();$("#addImage").width(a),$("#addImage").height(e),$("form img").fadeOut(),$("#addImage").show()}return $(this).addClass("hover"),!1}),$("form").on("dragover","#addImage",function(a){return a.preventDefault(),a.stopPropagation(),$("#addImage").show(),$("form img").remove(),$(this).addClass("hover"),!1}),$("form").on("dragleave","#addImage",function(a){return a.preventDefault(),a.stopPropagation(),$(this).removeClass("hover"),!1}),$("form").on("drop","#addImage",function(a){var e=$(this).data("input");a.stopPropagation(),a.preventDefault();var t=a.originalEvent.dataTransfer,i=t.files;$("input[id="+e+"]").prop("files",a.originalEvent.dataTransfer.files)})});