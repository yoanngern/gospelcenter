{% extends "gospelcenterPeopleBundle::layout.html.twig" %}

{% block gospelcenterAdminPeople_body %}
    <nav class="sorting_nav">
        <ul>
            <li><a href="{{ path('gospelcenterAdmin_persons', {'center': center.ref}) }}" {% if tab == 'contacts' %}class="current"{% endif %}>{{ center.name }}'s contacts</a></li>
            <li><a href="{{ path('gospelcenterAdmin_persons_all', {'center': center.ref}) }}" {% if tab == 'contactsAll' %}class="current"{% endif %}>All contacts</a></li>
        </ul>
    </nav>
    <table class="main">
        <thead>
            <tr>
                <th data-sort="string">Firstname</th>
                <th data-sort="string">Lastname</th>
                <th data-sort="string">Gender</th>
                <th data-sort="int">Date of birth</th>
            </tr>
        </thead>
        <tbody>
            {% for person in persons %}
                <tr>
                    <td><a href="{{ path('gospelcenterAdmin_persons_edit', {'person': person.id, 'center': center.ref}) }}">{{ person.firstName }}</a></td>
                    <td><a href="{{ path('gospelcenterAdmin_persons_edit', {'person': person.id, 'center': center.ref}) }}">{{ person.lastName }}</a></td>
                    <td><a href="{{ path('gospelcenterAdmin_persons_edit', {'person': person.id, 'center': center.ref}) }}">{{ person.gender }}</a></td>
                    <td data-sort-value="{% if person.dateOfBirth %}{{ person.dateOfBirth|date('U') }}{% endif %}"><a href="{{ path('gospelcenterAdmin_persons_edit', {'person': person.id, 'center': center.ref}) }}">{% if person.dateOfBirth %}{{ person.dateOfBirth|date('d F Y') }}{% endif %}</a></td>
                </tr>
            {% else %}
                <tr><td colspan="4">There are no contacts.</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}