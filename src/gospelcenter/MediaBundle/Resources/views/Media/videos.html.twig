{% extends "gospelcenterMediaBundle::layout.html.twig" %}

{% block body %}
    {% spaceless %}
        <section class="wall">
            <h1>Nos Vidéos</h1>

            {% for celebration in celebrations %}
                <a href="{{ path('gospelcenterMedia_video', {'video': celebration.video.id}) }}">
                    <div class="container">
                        {% if celebration.image %}
                            {% set tvImg = celebration.image.webPath %}
                            <div class="image"
                                 style="background-image: url('{{ asset(tvImg)| imagine_filter('tv_wall') }}')"
                                 data-bg="{{ asset(tvImg)| imagine_filter('tv_wall') }}"
                                 data-bg_2x="{{ asset(tvImg)| imagine_filter('tv_wall_2x') }}"
                                 data-bg_tablet="{{ asset(tvImg)| imagine_filter('tv_wall_tablet') }}"
                                 data-bg_tablet_2x="{{ asset(tvImg)| imagine_filter('tv_wall_tablet_2x') }}"
                                 data-bg_mobile="{{ asset(tvImg)| imagine_filter('tv_wall_mobile') }}"
                                 data-bg_mobile_2x="{{ asset(tvImg)| imagine_filter('tv_wall_mobile_2x') }}"
                                    ></div>
                            <div class="gradient"></div>
                        {% else %}
                            <div class="bg"></div>
                        {% endif %}
                        <div class="hover">
                            <div class="picto_play"></div>
                            <span>Regarder la vidéo</span>
                        </div>
                        <div class="details">
                            <h1>{{ celebration|speakers(app.request.locale) }}</h1>
                            {% if celebration.title != "" %}
                                <span>{{ celebration.title }}</span>
                            {% else %}
                                <span>{{ celebration.date|oneDate(app.request.locale) }}</span>
                            {% endif %}
                        </div>
                    </div>
                </a>
            {% endfor %}

            <a id="more" href="#more">
                <div class="container">
                    <div class="bg">
                        <span>Charger plus de vidéos</span>
                    </div>
                </div>
            </a>

            <div class="clear"></div>
        </section>
    {% endspaceless %}
{% endblock %}

{% block jsTemplating %}
    {{ parent() }}
    <script id="addVideo" type="text/x-handlebars-template">
        {% raw %}

        <a href="{{ link }}">
            <div class="container">
                {{#if has_image }}
                <div class="image"
                     style="background-image: url('{{ image }}')"
                     data-bg="{{ image }}"
                     data-bg_2x="{{ image_2x }}"
                     data-bg_tablet="{{ image_tablet }}"
                     data-bg_tablet_2x="{{ image_tablet_2x }}"
                     data-bg_mobile="{{ image_mobile }}"
                     data-bg_mobile_2x="{{ image_mobile_2x }}"
                        ></div>
                <div class="gradient"></div>
                {{else}}
                <div class="bg"></div>
                {{/if}}
                <div class="hover">
                    <div class="picto_play"></div>
                    <span>Regarder la vidéo</span>
                </div>
                <div class="details">
                    <h1>{{ speakers }}</h1>
                    <span>{{ title }}</span>
                </div>
            </div>
        </a>

        {% endraw %}
    </script>
{% endblock %}