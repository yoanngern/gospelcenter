{% extends "gospelcenterMediaBundle::layout.html.twig" %}

{% block home_title %}
    {% set homeImg = 'bundles/gospelcentermedia/images/media_home.jpg' %}
    <section class="home_title"
             style="background-image: url('{{ asset(homeImg)| imagine_filter('media_home_low') }}')"
             data-bg="{{ asset(homeImg)| imagine_filter('media_home') }}"
             data-bg_2x="{{ asset(homeImg)| imagine_filter('media_home_2x') }}"
             data-bg_tablet="{{ asset(homeImg)| imagine_filter('media_home_tablet') }}"
             data-bg_tablet_2x="{{ asset(homeImg)| imagine_filter('media_home_tablet_2x') }}"
             data-bg_mobile="{{ asset(homeImg)| imagine_filter('media_home_mobile') }}"
             data-bg_mobile_2x="{{ asset(homeImg)| imagine_filter('media_home_mobile_2x') }}"
            >
        <a id="logo_tv" href="{{ path('gospelcenterMedia') }}"></a>
    </section>
{% endblock %}
{% block body %}
    {% spaceless %}
        <section class="wall">
            <h1>Nos dernières célébrations</h1>

            {% for celebration in celebrations %}
                <a href="{{ path('gospelcenterMedia_video', {'video': celebration.video.id}) }}">
                    <div class="container">
                        {% if celebration.image %}
                            {% set tvImg = celebration.image.webPath %}
                            <div class="image"
                                 style="background-image: url('{{ asset(tvImg) }}')"
                                 data-bg="{{ asset(tvImg)| imagine_filter('tv_wall') }}"
                                 data-bg_2x="{{ asset(tvImg)| imagine_filter('tv_wall_2x') }}"
                                 data-bg_tablet="{{ asset(tvImg)| imagine_filter('tv_wall_tablet') }}"
                                 data-bg_tablet_2x="{{ asset(tvImg)| imagine_filter('tv_wall_tablet_2x') }}"
                                 data-bg_mobile="{{ asset(tvImg)| imagine_filter('tv_wall_mobile') }}"
                                 data-bg_mobile_2x="{{ asset(tvImg)| imagine_filter('tv_wall_mobile_2x') }}"
                                    ></div>
                            <div class="gradient"></div>
                        {% else %}
                            <div class="bg"></div>
                        {% endif %}
                        <div class="hover">
                            <div class="picto_play"></div>
                            <span>Regarder la vidéo</span>
                        </div>
                        <div class="details">
                            <h1>{{ celebration|speakers(app.request.locale) }}</h1>
                            {% if celebration.title != "" %}
                                <span>{{ celebration.title }}</span>
                            {% else %}
                                <span>{{ celebration.date|oneDate(app.request.locale) }}</span>
                            {% endif %}
                        </div>
                    </div>
                </a>
            {% endfor %}
            <div class="clear"></div>
        </section>
    {% endspaceless %}
{% endblock %}