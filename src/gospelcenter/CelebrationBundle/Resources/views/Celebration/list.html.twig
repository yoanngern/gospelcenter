{% extends "::local.html.twig" %}

{% block stylesheets %}
	{{ parent() }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}

{% block title %}
    {{ parent() }} - Celebrations
{% endblock %}

{% block body %}
    <h1>Next celebrations</h1>
    
    <section class="sliderTop slider" id="1">
        
        {% if nextCelebrations|length > 1 %}<div id="left" class="arrow black"></div>{% endif %}
    
        {% for celebration in nextCelebrations %}
            
            {% set speakers = '' %}
        
            {% for key, speaker in celebration.speakers %}
                
                {% if key != 0 and key != (celebration.speakers|length -1) %}
                    {% set speakers = speakers ~ ', '%}
                {% elseif key != 0 and key == (celebration.speakers|length -1) %}
                    {% set speakers = speakers ~ ' et '%}
                {% endif %}
                
                {% set speakers = speakers ~ speaker.person.firstname ~ ' ' ~ speaker.person.lastname %}
                
            {% endfor %}
            
            <article class="slide" id="{{ loop.index }}">
                <section class="picture">
                    <img src="{{ asset(celebration.image.webPath) }}" alt="{{ celebration.image.alt }}" />
                </section>
                <section class="details content">
                    <h1><span>{{ celebration.startingDate|date('j F') }}</span> at {{ celebration.startingDate|date('H:i') }}</h1>
                    <h2>{{ speakers }}</h2>
                    {% if celebration.description %}<p>{{ celebration.description }}</p>{% endif %}
                    {% if celebration.kidsProgram %}<a href="#">Program for kids</a>{% endif %}
                </section>
            </article>
            
        {% endfor %}
        
        {% if nextCelebrations|length > 1 %}<div id="right" class="arrow black"></div>{% endif %}
        
        {% if nextCelebrations|length > 1 %}
            <nav id="slides" class="redRound">
                <ul>
                    {% for celebration in nextCelebrations %}
                        <li class="{% if loop.index == 1 %}current{% endif %}" data-slide="{{ loop.index }}" data-slider="1"></li>
                    {% endfor %}
                </ul>
            </nav>
        {% endif %}
    </section>
    
    <section class="sliderDown">
        <h1>Watch our last celebrations</h1>
        
        <section class="clip">
            {% spaceless %}
                {% for celebration in lastCelebrations %}
                    
                    {% set speakers = '' %}
                
                    {% for key, speaker in celebration.speakers %}
                        
                        {% if key != 0 and key != (celebration.speakers|length -1) %}
                            {% set speakers = speakers ~ ', '%}
                        {% elseif key != 0 and key == (celebration.speakers|length -1) %}
                            {% set speakers = speakers ~ ' et '%}
                        {% endif %}
                        
                        {% set speakers = speakers ~ speaker.person.firstname ~ ' ' ~ speaker.person.lastname %}
                        
                    {% endfor %}
                    
                    <a href="{{ path('gospelcenterMedia_video', {'video': celebration.video.id}) }}">
                        <img src="{{ asset(celebration.image.webPath) }}" alt="{{ celebration.image.alt }}" />
                        <section class="details">
                            <h1>{{ speakers }}</h1>
                            <span>{{ celebration.startingDate|date('d F') }}</span>
                        </section>
                    </a>
                    
                {% endfor %}
                
                <a href="{{ path('gospelcenterMedia_center', {'center': center.ref}) }}" class="more 16_9height" data-ratio="0.85">
                    <div class="16_9height">
                        <span>More</span>
                    </div>
                </a>
            {% endspaceless %}
        </section>
            
    </section>
    
{% endblock %}